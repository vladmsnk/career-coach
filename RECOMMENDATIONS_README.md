# üéØ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –≤–∞–∫–∞–Ω—Å–∏–π

–°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –≤–∞–∫–∞–Ω—Å–∏–π –¥–ª—è –∫–∞—Ä—å–µ—Ä–Ω–æ–≥–æ –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤ WebSocket —á–∞—Ç.

## üìã –û–±–∑–æ—Ä —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–≤—å—é —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. **–°–æ–∑–¥–∞–µ—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥** –¥–ª—è –ø–æ–ª—è `preferred_activities` –∏–∑ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–í—ã–ø–æ–ª–Ω—è–µ—Ç –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫** –≤ Qdrant –ø–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º—É —Å—Ö–æ–¥—Å—Ç–≤—É
3. **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 5 –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –≤–∞–∫–∞–Ω—Å–∏–π** —Å HH ID
4. **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤ —á–∞—Ç** –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —Å–µ—Å—Å–∏–∏

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å –ø—Ä–∏–Ω—Ü–∏–ø–æ–º **graceful degradation**:
- ‚úÖ **Feature flag** - –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- ‚úÖ **–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã** - –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - —Å–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ —Å–±–æ—è—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- ‚úÖ **–¢–∞–π–º–∞—É—Ç—ã –∏ retry** - –∑–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–≤–∏—Å—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `app/core/settings.py`

```python
class Settings(BaseSettings):
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ...
    
    # Recommendations system
    enable_vacancy_recommendations: bool = False  # Feature flag
    openai_api_key: str = ""
    qdrant_url: str = "http://localhost:6333"
    qdrant_collection: str = "vacancies_tasks"
```

### 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –í .env —Ñ–∞–π–ª–µ –∏–ª–∏ export
ENABLE_VACANCY_RECOMMENDATIONS=true
OPENAI_API_KEY=your_openai_api_key_here
```

### 3. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
# –£–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ requirements.txt:
pip install qdrant-client openai tiktoken tenacity numpy
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ Qdrant

```bash
docker-compose up -d
```

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π

```bash
python scripts/load_vacancies_to_qdrant.py
```

### 3. –í–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

```bash
export ENABLE_VACANCY_RECOMMENDATIONS=true
export OPENAI_API_KEY=your_key_here
```

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
python scripts/test_recommendations_mock.py

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç
python scripts/test_recommendations_integration.py

# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
python scripts/test_full_chat_with_recommendations.py

# –û–±—ã—á–Ω—ã–µ —Ç–µ—Å—Ç—ã (–¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å)
python -m pytest tests/ -v
```

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### –°–µ—Ä–≤–∏—Å—ã

- **`EmbeddingsService`** - —Å–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ —á–µ—Ä–µ–∑ OpenAI API
- **`QdrantService`** - –ø–æ–∏—Å–∫ –≤–∞–∫–∞–Ω—Å–∏–π –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑–µ  
- **`RecommendationService`** - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –§–∞–π–ª—ã

```
app/services/recommendations/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ embeddings_service.py      # OpenAI —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
‚îú‚îÄ‚îÄ qdrant_service.py          # –ü–æ–∏—Å–∫ –≤ Qdrant
‚îî‚îÄ‚îÄ recommendation_service.py  # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å

scripts/
‚îú‚îÄ‚îÄ test_recommendations.py           # –¢–µ—Å—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ API
‚îú‚îÄ‚îÄ test_recommendations_mock.py      # –¢–µ—Å—Ç —Å mock –¥–∞–Ω–Ω—ã–º–∏
‚îú‚îÄ‚îÄ test_recommendations_integration.py # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç
‚îî‚îÄ‚îÄ test_full_chat_with_recommendations.py # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
```

## üí¨ –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç–µ

–ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–∏ —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è:

```json
{
    "event": "recommendations",
    "message": "üéØ –ù–∞—à–ª–∏ 5 –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –≤–∞–∫–∞–Ω—Å–∏–π –¥–ª—è –≤–∞—Å:",
    "data": {
        "recommendations": [
            {
                "hh_id": "124423602",
                "title": "Senior Python Developer", 
                "company": "–Ø–Ω–¥–µ–∫—Å",
                "score": 84.7,
                "url": "https://hh.ru/vacancy/124423602",
                "category": "–ë—ç–∫–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫"
            }
            // ... –¥–æ 5 –≤–∞–∫–∞–Ω—Å–∏–π
        ],
        "hh_ids": ["124423602", "124281649", "124095408", "123987654", "123876543"]
    }
}
```

## üîç –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞

### 1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```python
target_specialization = collected_data["target_specialization"]  
preferred_activities = collected_data["preferred_activities"]
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞
```python
embedding = await embeddings_service.create_embedding(preferred_activities)
```

### 3. –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ –≤ Qdrant
```python
# –§–∏–ª—å—Ç—Ä –ø–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
filter_categories = get_mapping(target_specialization)

# –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ + —Ñ–∏–ª—å—Ç—Ä
results = qdrant_client.search(
    collection_name="vacancies_tasks",
    query_vector=("tasks", embedding),
    query_filter=Filter(categories=filter_categories),
    limit=5
)
```

### 4. –ú–∞–ø–ø–∏–Ω–≥ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π

```python
SPECIALIZATION_MAPPING = {
    "–§—É–ª—Å—Ç–µ–∫-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫": ["–ë—ç–∫–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫", "–§—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫", "–§—É–ª—Å—Ç–µ–∫-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫"],
    "ML-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫": ["ML-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫", "Machine Learning Engineer"],
    "DevOps-–∏–Ω–∂–µ–Ω–µ—Ä": ["DevOps-–∏–Ω–∂–µ–Ω–µ—Ä"],
    # ... –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤ qdrant_service.py
}
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:

```bash
üîç –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –¥–ª—è —Å–µ—Å—Å–∏–∏ 123e4567-e89b-12d3-a456-426614174000
üìä –î–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:
   –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: –§—É–ª—Å—Ç–µ–∫-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
   –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ü–û, –°–∏—Å—Ç–µ–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑
‚úÖ –≠–º–±–µ–¥–¥–∏–Ω–≥ —Å–æ–∑–¥–∞–Ω: —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å (768,)
üîç –ü–æ–∏—Å–∫ –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: –§—É–ª—Å—Ç–µ–∫-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
üìã –§–∏–ª—å—Ç—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π: ['–ë—ç–∫–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫', '–§—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫', '–§—É–ª—Å—Ç–µ–∫-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫']
‚úÖ –ù–∞–π–¥–µ–Ω–æ 5 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: ['124423602', '124281649', '124095408', '123987654', '123876543']
```

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### Graceful degradation
- **OpenAI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** ‚Üí —Å–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –±–µ–∑ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- **Qdrant –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** ‚Üí —Å–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –±–µ–∑ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π  
- **–ù–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –≤–∞–∫–∞–Ω—Å–∏–π** ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
- **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏** ‚Üí –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è, —Å–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è

### –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏
```python
try:
    await self._send_vacancy_recommendations(session_id)
except Exception as e:
    print(f"‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ): {e}")
    # –°–µ—Å—Å–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
finally:
    await self.repo.update_session(session_id, status="finished")
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
```bash
# –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å
python -m pytest tests/ -v

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ —Ç–µ—Å—Ç WebSocket —á–∞—Ç–∞
python -m pytest tests/test_e2e.py -v
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. **–í—ã–∫–ª—é—á–µ–Ω–Ω—ã–π —Ñ–ª–∞–≥** - —á–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ
2. **–í–∫–ª—é—á–µ–Ω–Ω—ã–π —Ñ–ª–∞–≥ –±–µ–∑ Qdrant** - —á–∞—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ
3. **–í–∫–ª—é—á–µ–Ω–Ω—ã–π —Ñ–ª–∞–≥ —Å Qdrant** - —á–∞—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
4. **–†–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –¢–∏–ø–∏—á–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞**: ~1-3 —Å–µ–∫—É–Ω–¥—ã
- **–ü–æ–∏—Å–∫ –≤ Qdrant**: ~100-500 –º—Å
- **–û–±—â–µ–µ –≤—Ä–µ–º—è**: ~2-5 —Å–µ–∫—É–Ω–¥

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- Retry —Å exponential backoff –¥–ª—è OpenAI
- –¢–∞–π–º–∞—É—Ç—ã –Ω–∞ –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ –≤—ã–∑–æ–≤—ã
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞

## üîÑ –í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å –∏ –º–∏–≥—Ä–∞—Ü–∏–∏

### –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: v1.0
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 12 –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–Ω—Ç–µ—Ä–≤—å—é
- 33 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –º–∞–ø–ø–∏–Ω–≥–µ
- 13,511 –≤–∞–∫–∞–Ω—Å–∏–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ—Å–æ–≤ —Ñ–∞–∫—Ç–æ—Ä–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –≤–∞–∫–∞–Ω—Å–∏–π
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

## üÜò Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**1. "OpenAI API key not found"**
```bash
export OPENAI_API_KEY=your_key_here
# –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ .env —Ñ–∞–π–ª
```

**2. "Qdrant connection failed"**
```bash
docker-compose up -d
curl http://localhost:6333/health  # –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å {"status":"ok"}
```

**3. "Collection vacancies_tasks not found"**
```bash
python scripts/load_vacancies_to_qdrant.py
```

**4. "No recommendations found"**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ collected_data
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ target_specialization –µ—Å—Ç—å –≤ –º–∞–ø–ø–∏–Ω–≥–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ preferred_activities –Ω–µ –ø—É—Å—Ç–æ–µ

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Qdrant
curl http://localhost:6333/collections/vacancies_tasks

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ–∫—Ç–æ—Ä–æ–≤
curl http://localhost:6333/collections/vacancies_tasks/points/count

# –û—Ç–∫—Ä—ã—Ç—å Qdrant Dashboard
open http://localhost:6333/dashboard

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ Docker
docker-compose logs qdrant
```

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å –ø—Ä–∏–Ω—Ü–∏–ø–æ–º **fail-safe** - –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–ª–æ–º–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ –≤ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö.

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã  
3. –í—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–∫–ª—é—á–∏—Ç—å feature flag: `ENABLE_VACANCY_RECOMMENDATIONS=false`
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

‚úÖ **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω—É –∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è!**
