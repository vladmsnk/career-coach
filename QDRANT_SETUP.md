# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Qdrant

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–≥—Ä—É–∑–∫–µ –≤–∞–∫–∞–Ω—Å–∏–π –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö Qdrant –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **OpenAI API –∫–ª—é—á** - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
2. **–§–∞–π–ª –¥–∞–Ω–Ω—ã—Ö** - `scored_vacs.pickle` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
3. **Docker** - –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Qdrant
4. **Python 3.9+** - —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

## üõ†Ô∏è –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd /Users/vymoiseenkov/Desktop/career-coach-be
source venv/bin/activate
pip install -r requirements.txt
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ PostgreSQL –∏ Qdrant
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ Qdrant —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:6333/health
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ OpenAI API –∫–ª—é—á
export OPENAI_API_KEY="your-openai-key-here"

# –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env
echo "OPENAI_API_KEY=your-key-here" >> .env
```

### –®–∞–≥ 4: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–∞ –¥–∞–Ω–Ω—ã—Ö

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª `scored_vacs.pickle` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
ls -la scored_vacs.pickle
# –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ:
# cp /path/to/scored_vacs.pickle ./
```

### –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ pipeline
python scripts/load_vacancies_to_qdrant.py
```

## üìä –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ

1. **–ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö** (~1 –º–∏–Ω) - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π –∏–∑ pickle —Ñ–∞–π–ª–∞
2. **–°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤** (~15-25 –º–∏–Ω) - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ OpenAI API
3. **–ó–∞–≥—Ä—É–∑–∫–∞ –≤ Qdrant** (~2-3 –º–∏–Ω) - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–æ–≤ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞** (~30 —Å–µ–∫) - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ —Ä–µ—Å—É—Ä—Å—ã

- **–î–∞–Ω–Ω—ã–µ**: ~13,500 –≤–∞–∫–∞–Ω—Å–∏–π
- **–¢–æ–∫–µ–Ω—ã**: ~5.4M —Ç–æ–∫–µ–Ω–æ–≤
- **OpenAI —Å—Ç–æ–∏–º–æ—Å—Ç—å**: ~$1-2 USD
- **–í—Ä–µ–º—è**: ~25-30 –º–∏–Ω—É—Ç
- **–ú–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ**: ~500MB

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —É –≤–∞—Å –±—É–¥–µ—Ç:

- ‚úÖ –í–µ–∫—Ç–æ—Ä–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è `vacancies_tasks` –≤ Qdrant
- ‚úÖ ~13,500 –≤–∞–∫–∞–Ω—Å–∏–π —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ REST API –¥–ª—è –ø–æ–∏—Å–∫–∞ (–ø–æ—Ä—Ç 6333)

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

### –í–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Qdrant
```
http://localhost:6333/dashboard
```

### API –∑–∞–ø—Ä–æ—Å—ã
```bash
# –°–ø–∏—Å–æ–∫ –∫–æ–ª–ª–µ–∫—Ü–∏–π
curl http://localhost:6333/collections

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
curl http://localhost:6333/collections/vacancies_tasks

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
curl http://localhost:6333/collections/vacancies_tasks/points/count
```

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞

–í —Ñ–∞–π–ª–µ `scripts/load_vacancies_to_qdrant.py` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

```python
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
MODEL = "text-embedding-3-small"  # –∏–ª–∏ text-embedding-3-large
DIM = 768                         # –∏–ª–∏ 1536 –¥–ª—è –±–æ–ª—å—à–µ–π —Ç–æ—á–Ω–æ—Å—Ç–∏

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
CONCURRENCY = 8                   # –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ OpenAI
BATCH_SIZE = 128                  # —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Qdrant
QDRANT_URL = "http://localhost:6333"
COLLECTION_NAME = "vacancies_tasks"
```

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### Qdrant –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Docker
docker ps | grep qdrant

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose restart qdrant
```

### –û—à–∏–±–∫–∏ OpenAI API
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á
echo $OPENAI_API_KEY

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–≤–æ—Ç—ã –≤ OpenAI –∞–∫–∫–∞—É–Ω—Ç–µ
```

### –ù–µ—Ç —Ñ–∞–π–ª–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
ls -la scored_vacs.pickle
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã –Ω–æ–≤—ã–º–∏ –≤–∞–∫–∞–Ω—Å–∏—è–º–∏:

1. –ó–∞–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª `scored_vacs.pickle`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ
3. –°—Ç–∞—Ä–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –±—É–¥–µ—Ç –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üìû –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Qdrant –¥–ª—è –ø–æ–∏—Å–∫–∞:

```python
from qdrant_client import QdrantClient

client = QdrantClient("http://localhost:6333")

# –ü–æ–∏—Å–∫ –ø–æ –≤–µ–∫—Ç–æ—Ä–Ω–æ–º—É –∑–∞–ø—Ä–æ—Å—É
results = client.search(
    collection_name="vacancies_tasks",
    query_vector=("tasks", your_query_embedding),
    limit=5
)
```

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –≤–∞–∫–∞–Ω—Å–∏–π!
